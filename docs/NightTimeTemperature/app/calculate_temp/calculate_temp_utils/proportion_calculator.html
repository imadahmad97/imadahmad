<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator API documentation</title>
<meta name="description" content="Module: proportion_calculator …">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator</code></h1>
</header>
<section id="section-intro">
<p>Module: proportion_calculator</p>
<p>This module provides classes and methods for calculating user proportions based on sun times data.</p>
<h2 id="classes">Classes</h2>
<ul>
<li>AbstractPropoprtionCalculator: Abstract base class that defines the template for calculating
user proportions within given intervals. It includes abstract methods for calculating user
proportions for morning and night intervals based on sun times data.</li>
<li>ProportionCalculator: Concrete implementation of <code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator">AbstractPropoprtionCalculator</a></code> that provides
specific methods for calculating user proportions for morning and night intervals.</li>
</ul>
<h2 id="usage">Usage</h2>
<p>The <code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator">AbstractPropoprtionCalculator</a></code> class should be subclassed to create custom proportion
calculators that implement the <code>calculate_user_proportion</code>, <code>get_user_prop_morning</code>, and
<code>get_user_prop_night</code> methods. The <code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator">ProportionCalculator</a></code> class provides one such implementation
for handling typical calculations based on sun times data.</p>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>abc: Provides the abstract base class functionality.</li>
<li>datetime: Used for parsing and handling date and time data.</li>
<li>typing: Provides type hinting for better code readability and maintenance.</li>
<li>app.sun_times: Contains the <code>SunTimes</code> class used to structure the parsed time data.</li>
</ul>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator"><code class="flex name class">
<span>class <span class="ident">AbstractPropoprtionCalculator</span></span>
</code></dt>
<dd>
<div class="desc"><p>An abstract base class that defines the interface for proportion calculators.</p>
<p>This class provides abstract methods for calculating user proportions based on sun times data.
Subclasses must implement these methods to provide specific proportion calculation logic.</p>
<p>Single responsibility: Define the interface for proportion calculators.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AbstractPropoprtionCalculator(ABC):
    &#34;&#34;&#34;
    An abstract base class that defines the interface for proportion calculators.

    This class provides abstract methods for calculating user proportions based on sun times data.
    Subclasses must implement these methods to provide specific proportion calculation logic.

    Single responsibility: Define the interface for proportion calculators.
    &#34;&#34;&#34;

    @staticmethod
    @abstractmethod
    def calculate_user_proportion(
        user_time: datetime, start_time: datetime, interval_length: timedelta
    ) -&gt; float:
        &#34;&#34;&#34;
        Calculates the user proportion within a given interval.

        Args:
            user_time (datetime): The user&#39;s time.
            start_time (datetime): The start time of the interval.
            interval_length (timedelta): The length of the interval.

        Returns:
            float: The calculated user proportion.

        Single Responsibility: Calculate the user proportion within a given interval.
        &#34;&#34;&#34;

    @abstractmethod
    def get_user_prop_morning(self, sun_times: SunTimes) -&gt; float:
        &#34;&#34;&#34;
        Calculates the user proportion for the morning interval based on sun times data.

        Args:
            sun_times (SunTimes): A structured object containing processed sun times data.

        Returns:
            float: The calculated user proportion for the morning interval.

        Single Responsibility: Calculate the user proportion for the morning interval.
        &#34;&#34;&#34;

    @abstractmethod
    def get_user_prop_night(self, sun_times: SunTimes) -&gt; float:
        &#34;&#34;&#34;
        Calculates the user proportion for the night interval based on sun times data.

        Args:
            sun_times (SunTimes): A structured object containing processed sun times data.

        Returns:
            float: The calculated user proportion for the night interval.

        Single Responsibility: Calculate the user proportion for the night interval.
        &#34;&#34;&#34;</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator">ProportionCalculator</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.calculate_user_proportion"><code class="name flex">
<span>def <span class="ident">calculate_user_proportion</span></span>(<span>user_time: datetime.datetime, start_time: datetime.datetime, interval_length: datetime.timedelta) ‑> float</span>
</code></dt>
<dd>
<div class="desc"><p>Calculates the user proportion within a given interval.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>user_time</code></strong> :&ensp;<code>datetime</code></dt>
<dd>The user's time.</dd>
<dt><strong><code>start_time</code></strong> :&ensp;<code>datetime</code></dt>
<dd>The start time of the interval.</dd>
<dt><strong><code>interval_length</code></strong> :&ensp;<code>timedelta</code></dt>
<dd>The length of the interval.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>The calculated user proportion.</dd>
</dl>
<p>Single Responsibility: Calculate the user proportion within a given interval.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.get_user_prop_morning"><code class="name flex">
<span>def <span class="ident">get_user_prop_morning</span></span>(<span>self, sun_times: app.sun_times.SunTimes) ‑> float</span>
</code></dt>
<dd>
<div class="desc"><p>Calculates the user proportion for the morning interval based on sun times data.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>sun_times</code></strong> :&ensp;<code>SunTimes</code></dt>
<dd>A structured object containing processed sun times data.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>The calculated user proportion for the morning interval.</dd>
</dl>
<p>Single Responsibility: Calculate the user proportion for the morning interval.</p></div>
</dd>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.get_user_prop_night"><code class="name flex">
<span>def <span class="ident">get_user_prop_night</span></span>(<span>self, sun_times: app.sun_times.SunTimes) ‑> float</span>
</code></dt>
<dd>
<div class="desc"><p>Calculates the user proportion for the night interval based on sun times data.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>sun_times</code></strong> :&ensp;<code>SunTimes</code></dt>
<dd>A structured object containing processed sun times data.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>float</code></dt>
<dd>The calculated user proportion for the night interval.</dd>
</dl>
<p>Single Responsibility: Calculate the user proportion for the night interval.</p></div>
</dd>
</dl>
</dd>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator"><code class="flex name class">
<span>class <span class="ident">ProportionCalculator</span></span>
</code></dt>
<dd>
<div class="desc"><p>Concrete implementation of AbstractPropoprtionCalculator for calculating user proportions for
morning and night intervals.</p>
<p>This class implements the methods to calculate the user proportion within a given interval,
as well as specific methods to calculate user proportions for morning and night intervals
based on sun times data.</p>
<p>Single responsibility: Calculate user proportions for morning and night intervals using sun
times data.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ProportionCalculator(AbstractPropoprtionCalculator):
    &#34;&#34;&#34;
    Concrete implementation of AbstractPropoprtionCalculator for calculating user proportions for
    morning and night intervals.

    This class implements the methods to calculate the user proportion within a given interval,
    as well as specific methods to calculate user proportions for morning and night intervals
    based on sun times data.

    Single responsibility: Calculate user proportions for morning and night intervals using sun
    times data.
    &#34;&#34;&#34;

    @staticmethod
    def calculate_user_proportion(
        user_time: datetime, start_time: datetime, interval_length: timedelta
    ) -&gt; float:
        &#34;&#34;&#34;
        See base class `AbstractProportionCalculator` for full method documentation.
        &#34;&#34;&#34;
        return (user_time - start_time) / (2 * interval_length)

    def get_user_prop_morning(self, sun_times: SunTimes) -&gt; float:
        &#34;&#34;&#34;
        See base class `AbstractProportionCalculator` for full method documentation.
        &#34;&#34;&#34;
        morning_twilight_length = sun_times.sunrise - sun_times.morning_twilight
        return self.calculate_user_proportion(
            sun_times.user_time,
            sun_times.morning_twilight,
            morning_twilight_length,
        )

    def get_user_prop_night(self, sun_times: SunTimes) -&gt; float:
        &#34;&#34;&#34;
        See base class `AbstractProportionCalculator` for full method documentation.
        &#34;&#34;&#34;
        night_twilight_length = sun_times.night_twilight - sun_times.sunset
        return self.calculate_user_proportion(
            sun_times.user_time,
            sun_times.midday_period_ends,
            night_twilight_length,
        )</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator">AbstractPropoprtionCalculator</a></li>
<li>abc.ABC</li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.calculate_user_proportion"><code class="name flex">
<span>def <span class="ident">calculate_user_proportion</span></span>(<span>user_time: datetime.datetime, start_time: datetime.datetime, interval_length: datetime.timedelta) ‑> float</span>
</code></dt>
<dd>
<div class="desc"><p>See base class <code>AbstractProportionCalculator</code> for full method documentation.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.get_user_prop_morning"><code class="name flex">
<span>def <span class="ident">get_user_prop_morning</span></span>(<span>self, sun_times: app.sun_times.SunTimes) ‑> float</span>
</code></dt>
<dd>
<div class="desc"><p>See base class <code>AbstractProportionCalculator</code> for full method documentation.</p></div>
</dd>
<dt id="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.get_user_prop_night"><code class="name flex">
<span>def <span class="ident">get_user_prop_night</span></span>(<span>self, sun_times: app.sun_times.SunTimes) ‑> float</span>
</code></dt>
<dd>
<div class="desc"><p>See base class <code>AbstractProportionCalculator</code> for full method documentation.</p></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils" href="index.html">NightTimeTemperature.app.calculate_temp.calculate_temp_utils</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator">AbstractPropoprtionCalculator</a></code></h4>
<ul class="">
<li><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.calculate_user_proportion" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.calculate_user_proportion">calculate_user_proportion</a></code></li>
<li><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.get_user_prop_morning" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.get_user_prop_morning">get_user_prop_morning</a></code></li>
<li><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.get_user_prop_night" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.AbstractPropoprtionCalculator.get_user_prop_night">get_user_prop_night</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator">ProportionCalculator</a></code></h4>
<ul class="">
<li><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.calculate_user_proportion" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.calculate_user_proportion">calculate_user_proportion</a></code></li>
<li><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.get_user_prop_morning" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.get_user_prop_morning">get_user_prop_morning</a></code></li>
<li><code><a title="NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.get_user_prop_night" href="#NightTimeTemperature.app.calculate_temp.calculate_temp_utils.proportion_calculator.ProportionCalculator.get_user_prop_night">get_user_prop_night</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
